(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"hW/Y":function(e,n,t){"use strict";t.r(n),t.d(n,"_frontmatter",(function(){return o})),t.d(n,"default",(function(){return u}));t("91GP"),t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V"),t("q1tI");var a=t("7ljp"),i=t("013z");t("qKvR");function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var o={},s=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(a.b)("div",n)}},l=s("PageDescription"),c=s("AnchorLinks"),b=s("AnchorLink"),p={_frontmatter:o},d=i.a;function u(e){var n=e.components,t=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,["components"]);return Object(a.b)(d,r({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)(l,{mdxType:"PageDescription"},Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"DataPowerService")," is a Custom Resource Definition used to deploy and manage a DataPower StatefulSet.")),Object(a.b)(c,{mdxType:"AnchorLinks"},Object(a.b)(b,{mdxType:"AnchorLink"},"Conditions"),Object(a.b)(b,{mdxType:"AnchorLink"},"Custom Images"),Object(a.b)(b,{mdxType:"AnchorLink"},"Nodes"),Object(a.b)(b,{mdxType:"AnchorLink"},"Phase"),Object(a.b)(b,{mdxType:"AnchorLink"},"Versions")),Object(a.b)("h2",null,"Example"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{}),"$ oc get dp\nNAME        READY   SUMMARY                           VERSION    ERROR   AGE\ndpservice   True    StatefulSet replicas ready: 3/3   10.0.0.0   n/a     2m16s\n\n$ oc describe dp/dpservice\n...\nStatus:\n  Conditions:\n    Last Transition Time:  2020-05-18T23:16:28Z\n    Message:               StatefulSet replicas ready: 3/3\n    Reason:                StatefulSetReady\n    Status:                True\n    Type:                  Ready\n    Last Transition Time:  2020-05-18T23:14:37Z\n    Message:               n/a\n    Reason:                NoError\n    Status:                False\n    Type:                  ReconcileError\n  Custom Images:           false\n  Nodes:\n    dpservice-0\n    dpservice-1\n    dpservice-2\n  Phase:  Running\n  Versions:\n    Available:\n      Channels:\n        Name:  10.0.0\n      Versions:\n        Name:    10.0.0.0\n    Reconciled:  10.0.0.0\n")),Object(a.b)("h2",null,"Conditions"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"DataPowerService")," supports Kubernetes ",Object(a.b)("a",r({parentName:"p"},{href:"https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#typical-status-properties"}),"Conditions"),". These ",Object(a.b)("inlineCode",{parentName:"p"},"Conditions")," can be viewed as a snapshot of the current and most up-to-date status of the ",Object(a.b)("inlineCode",{parentName:"p"},"DataPowerService")," instance."),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"Ready")," condition, for example, will be set ",Object(a.b)("inlineCode",{parentName:"p"},"True")," when all of the Pods in the StatefulSet are ",Object(a.b)("inlineCode",{parentName:"p"},"Ready"),", and the number of replicas in the StatefulSet matches the desired number of replicas set by the ",Object(a.b)("inlineCode",{parentName:"p"},"DataPowerService")," instance spec."),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"ReconcileError")," condition will be set ",Object(a.b)("inlineCode",{parentName:"p"},"True")," when an error is encountered during reconciliation of the ",Object(a.b)("inlineCode",{parentName:"p"},"DataPowerService"),". The ",Object(a.b)("inlineCode",{parentName:"p"},"Reason")," and ",Object(a.b)("inlineCode",{parentName:"p"},"Message")," should have details regarding what the error may have been, such as a referenced ConfigMap not being found."),Object(a.b)("p",null,"Both of these conditions are exposed in the ",Object(a.b)("inlineCode",{parentName:"p"},"get")," output of the ",Object(a.b)("inlineCode",{parentName:"p"},"DataPowerService")," as well, for each checking:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{}),"$ oc get dp\nNAME        READY   SUMMARY                           VERSION    ERROR   AGE\ndpservice   True    StatefulSet replicas ready: 3/3   10.0.0.0   n/a     2m16s\n")),Object(a.b)("h2",null,"Custom Images"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"CustomImages")," status property is a boolean flag that will be set ",Object(a.b)("inlineCode",{parentName:"p"},"True")," when a custom image (set via the ",Object(a.b)("inlineCode",{parentName:"p"},"image")," property in the CR spec) is being used."),Object(a.b)("h2",null,"Nodes"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"Nodes")," status provides the list of DataPower Pods currently deployed via the StatefulSet."),Object(a.b)("h2",null,"Phase"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"Phase")," status property provides the current phase of the ",Object(a.b)("inlineCode",{parentName:"p"},"DataPowerService"),". The value can be one the following:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"Pending")," - There are no errors, but the ",Object(a.b)("inlineCode",{parentName:"li"},"DataPowerService")," is not yet ",Object(a.b)("inlineCode",{parentName:"li"},"Ready"),"."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"Running")," - There are no errors, and the ",Object(a.b)("inlineCode",{parentName:"li"},"DataPowerService")," is ",Object(a.b)("inlineCode",{parentName:"li"},"Ready"),"."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"Failed")," - There has been a ",Object(a.b)("inlineCode",{parentName:"li"},"ReconcileError"),".")),Object(a.b)("h2",null,"Versions"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"Versions")," status provides information about the currently reconciled version of the operand (DataPower), as well as the available versions and channels the operator supports."),Object(a.b)("p",null,"A channel, such as ",Object(a.b)("inlineCode",{parentName:"p"},"10.0.0"),", allows for a user to subscribe to a stream of releases. When initially deployed with the ",Object(a.b)("inlineCode",{parentName:"p"},"version")," property in the CR spec set to a channel, the operator will automatically install the latest available version within that channel. When new versions are released in that channel, the operands (CR instances) will automatically be upgraded by the operator."),Object(a.b)("p",null,"The currently reconciled version will always be available in ",Object(a.b)("inlineCode",{parentName:"p"},"status.versions.reconciled"),", even if the ",Object(a.b)("inlineCode",{parentName:"p"},"version")," specified in the CR spec is a channel."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-apis-datapowerservice-status-mdx-3ebdee7dcfc16c7beaf1.js.map