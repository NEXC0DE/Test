{"version":3,"sources":["webpack:///./src/pages/install/olm.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","PageDescription","AnchorLinks","AnchorLink","InlineNotification","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","kind","isMDXComponent"],"mappings":"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","file":"component---src-pages-install-olm-mdx-ebc529c789742325e03f.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/IBM/datapower-operator-doc/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`The Operator Lifecycle Manager (OLM) provides a framework for installing, updating, and managing the lifecycle of operators and their services.`}</p>\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Prerequisites</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Installing the CatalogSource</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Installing the DataPower Operator</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">References</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Prerequisites`}</h2>\n    <p>{`The DataPower Operator currently supports installation via OLM in OCP clusters running version 4.6 or higher.`}</p>\n    <h3>{`Coexistence`}</h3>\n    <p>{`When installing an operator via OLM, you have the option to choose its `}<strong parentName=\"p\">{`Installation Mode`}</strong>{`. There are two options:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`All namespaces on the cluster (`}<inlineCode parentName=\"li\">{`AllNamespaces`}</inlineCode>{`)`}</li>\n      <li parentName=\"ul\">{`A specific namespace on the cluster (`}<inlineCode parentName=\"li\">{`OwnNamespace`}</inlineCode>{`)`}</li>\n    </ul>\n    <p>{`If installed in `}<inlineCode parentName=\"p\">{`AllNamespaces`}</inlineCode>{` mode, the Operator will use a ClusterRole and ClusterRoleBinding and thus have cluster-wide scope to manage DataPower resources across all namespaces. If installed in `}<inlineCode parentName=\"p\">{`OwnNamespace`}</inlineCode>{` mode, the operator will use a Role and RoleBinding as its primary access (isolated to the namespace itâ€™s installed in), with a limited set of ClusterRole permissions (see `}<a parentName=\"p\" {...{\n        \"href\": \"/install/prereqs#cluster-scope-permissions\"\n      }}>{`Cluster-scope permissions`}</a>{`).`}</p>\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Warning:`}</strong>{` You should not install the Operator in more than one mode. If `}<inlineCode parentName=\"p\">{`AllNamespaces`}</inlineCode>{` is chosen, do not subsequently install a second instance in `}<inlineCode parentName=\"p\">{`OwnNamespace`}</inlineCode>{` mode.`}</p>\n    </InlineNotification>\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Warning:`}</strong>{` If installing more than one instance of the Operator in `}<inlineCode parentName=\"p\">{`OwnNamespace`}</inlineCode>{` mode across multiple namespaces, they `}<strong parentName=\"p\">{`MUST`}</strong>{` be installed using the same channel / version.`}</p>\n    </InlineNotification>\n    <h2>{`Installing the CatalogSource`}</h2>\n    <p>{`To enable the installation of the DataPower Operator, a `}<inlineCode parentName=\"p\">{`CatalogSource`}</inlineCode>{` must be created in the `}<inlineCode parentName=\"p\">{`openshift-marketplace`}</inlineCode>{`.`}</p>\n    <p>{`The below YAML snippet can be used to create the `}<inlineCode parentName=\"p\">{`CatalogSource`}</inlineCode>{` resource, which references the `}<inlineCode parentName=\"p\">{`datapower-operator-catalog`}</inlineCode>{` image from IBM Container Registry. The use of the `}<inlineCode parentName=\"p\">{`latest`}</inlineCode>{` tag here will allow OLM to poll IBM Container Registry and pull new catalog images when they become available, enabling over-the-air updates.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: operators.coreos.com/v1alpha1\nkind: CatalogSource\nmetadata:\n  name: ibm-datapower-operator-catalog\n  namespace: openshift-marketplace\nspec:\n  displayName: IBM DataPower Operator\n  publisher: IBM\n  sourceType: grpc\n  image: icr.io/cpopen/datapower-operator-catalog:latest\n  updateStrategy:\n    registryPoll:\n      interval: 45m\n`}</code></pre>\n    <p>{`You can create this resource manually either via the OpenShift Console UI, or by using the `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` CLI.`}</p>\n    <h3>{`Using the OpenShift Console`}</h3>\n    <p>{`To creating this resource using the OpenShift Console, use the following steps.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Navigate to your OpenShift Console UI.`}</li>\n      <li parentName=\"ol\">{`In the top-right of the UI, on the header bar, click the Import button `}<inlineCode parentName=\"li\">{`(+)`}</inlineCode>{` to import YAML.`}</li>\n      <li parentName=\"ol\">{`Copy and paste the above YAML snippet into the editor.`}</li>\n      <li parentName=\"ol\">{`Click the `}<strong parentName=\"li\">{`Create`}</strong>{` button to create the resource.`}</li>\n    </ol>\n    <h3>{`Using the `}<inlineCode parentName=\"h3\">{`oc`}</inlineCode>{` CLI`}</h3>\n    <p>{`To create this resource using the `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` CLI, use the following steps.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a YAML file containing the above YAML snippet.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use the `}<inlineCode parentName=\"p\">{`oc apply`}</inlineCode>{` command to apply the YAML resource.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`oc apply -f ibm-datapower-operator-catalog.yaml\n`}</code></pre>\n      </li>\n    </ol>\n    <h3>{`Validating the CatalogSource is installed`}</h3>\n    <p>{`To validate that the `}<inlineCode parentName=\"p\">{`CatalogSource`}</inlineCode>{` resource was installed correctly, use the following steps.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Navigate to the OpenShift Console UI.`}</li>\n      <li parentName=\"ol\">{`On the left panel, expand the `}<strong parentName=\"li\">{`Operators`}</strong>{` section.`}</li>\n      <li parentName=\"ol\">{`Select `}<strong parentName=\"li\">{`OperatorHub`}</strong>{`.`}</li>\n      <li parentName=\"ol\">{`At the top of the OperatorHub section, enter `}<inlineCode parentName=\"li\">{`DataPower`}</inlineCode>{` into the Filter search box.`}</li>\n      <li parentName=\"ol\">{`A tile should be shown titled `}<strong parentName=\"li\">{`IBM DataPower Gateway`}</strong>{`.`}</li>\n    </ol>\n    <h2>{`Installing the DataPower Operator`}</h2>\n    <p>{`To install an instance of the DataPower Operator, use the following steps.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use the steps above to locate the `}<strong parentName=\"p\">{`IBM DataPower Gateway`}</strong>{` tile in the OperatorHub UI.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the `}<strong parentName=\"p\">{`IBM DataPower Gateway`}</strong>{` tile. A panel to the right should appear.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<strong parentName=\"p\">{`Install`}</strong>{` button on the right panel.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under `}<strong parentName=\"p\">{`Installation Mode`}</strong>{` select your desired installation mode.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the desired `}<strong parentName=\"p\">{`Update Channel`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the desired `}<strong parentName=\"p\">{`Approval Strategy`}</strong>{`.`}</p>\n        <InlineNotification mdxType=\"InlineNotification\">\n          <p parentName=\"li\">{`The Approval Strategy is what determines if the DataPower Operator will automatically update when new releases become available within the selected channel. If `}<inlineCode parentName=\"p\">{`Automatic`}</inlineCode>{` is selected, over-the-air updates will occur automatically as they become available. If `}<inlineCode parentName=\"p\">{`Manual`}</inlineCode>{` is selected, an administrator would need to approve each update as it becomes available through OLM.`}</p>\n        </InlineNotification>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<strong parentName=\"p\">{`Subscribe`}</strong>{` button to install the DataPower Operator.`}</p>\n      </li>\n    </ol>\n    <h2>{`References`}</h2>\n    <p>{`The below references might be helpful if you wish to learn more about OLM.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.6/operators/understanding/olm/olm-understanding-olm.html\"\n        }}>{`Understanding the Operator Lifecycle Manager (OLM)`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.6/operators/admin/olm-adding-operators-to-cluster.html\"\n        }}>{`Adding Operators to a cluster`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}